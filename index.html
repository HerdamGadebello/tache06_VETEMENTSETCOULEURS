<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeu de Machine à Sous Français</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Franklin+Gothic+Demi&display=swap" rel="stylesheet">
    <style>
        /* Reset e estilos base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --azul-marinho: #002F6C;
            --vermelho: #C8102E;
            --bege-claro: #F4F1EC;
            --verde: #3B8C59;
            --amarelo: #F5C84C;
            --lavanda: #C6B9DD;
            --ciano: #007BA7;
            --vinho: #6C002F;
            --verde-floresta: #2E6C00;
            --marrom-dourado: #6C4500;
            --magenta: #A7007B;
            --turquesa: #10C894;
            
            /* Variáveis para diferentes dispositivos */
            --slot-height: 150px;
            --slot-width: 45%;
            --mascot-small-size: 80px;
            --mascot-small-position: -30px;
            --font-size-enunciado: 1rem;
            --option-font-size: 0.9rem;
        }
        
        /* Estilos para mobile */
        .mobile-device {
            --slot-height: 110px;
            --slot-width: 95%;
            --mascot-small-size: 60px;
            --mascot-small-position: -20px;
            --font-size-enunciado: 0.9rem;
            --option-font-size: 0.8rem;
        }
        
        /* Estilos para tablet */
        .tablet-device {
            --slot-height: 130px;
            --slot-width: 90%;
            --mascot-small-size: 70px;
            --mascot-small-position: -25px;
            --font-size-enunciado: 0.95rem;
            --option-font-size: 0.85rem;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            background-color: var(--bege-claro);
        }
        
        /* Página de introdução */
        #intro-page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('fundo.jpg') no-repeat center center;
            background-size: cover;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            transition: opacity 1s ease;
        }
        
        #intro-video {
            width: 60%;
            max-width: 800px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }
        
        /* Página inicial do quiz */
        #home-page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #F1E1AC;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 90;
        }
        
        .mascot {
            width: 200px;
            margin-bottom: 30px;
        }
        
        .start-button {
            background-color: var(--azul-marinho);
            color: white;
            font-family: 'Franklin Gothic Demi', sans-serif;
            font-size: 1.5rem;
            padding: 15px 40px;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .start-button:hover {
            transform: scale(1.05);
        }
        
        /* Página do jogo */
        #game-page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #F1E1AC;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 80;
            padding: 20px;
        }
        
        .logo {
            position: absolute;
            top: 20px;
            left: 20px;
            width: 80px;
            height: auto;
        }
        
        .game-container {
            background-color: var(--azul-marinho);
            border-radius: 20px;
            padding: 20px;
            width: 90%;
            max-width: 600px;
            position: relative;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .mascot-small {
            position: absolute;
            bottom: var(--mascot-small-position);
            left: var(--mascot-small-position);
            width: var(--mascot-small-size);
            height: auto;
        }
        
        .enunciado {
            background-color: var(--vermelho);
            border-radius: 50px;
            padding: 12px 20px;
            text-align: center;
            margin: -40px auto 20px;
            width: 90%;
            max-width: 500px;
            position: relative;
            z-index: 10;
        }
        
        .enunciado p {
            font-family: 'Rockwell', serif;
            color: white;
            font-size: var(--font-size-enunciado);
        }
        
        .slots-container {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            gap: 15px;
        }
        
        .slot {
            width: var(--slot-width);
            height: var(--slot-height);
            background: white;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3);
            border: 3px solid var(--amarelo);
        }
        
        .slot-inner {
            position: absolute;
            width: 100%;
            transition: top 4s cubic-bezier(0.17, 0.67, 0.83, 0.67);
        }
        
        .slot-item {
            height: var(--slot-height);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        .slot-item img {
            max-width: 85%;
            max-height: 85%;
            object-fit: contain;
        }
        
        .spin-button {
            background-color: var(--verde);
            color: white;
            font-family: 'Franklin Gothic Demi', sans-serif;
            font-size: 1rem;
            padding: 10px 25px;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            display: block;
            margin: 0 auto 15px;
            transition: transform 0.2s;
        }
        
        .spin-button:hover {
            transform: scale(1.05);
        }
        
        .options-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            margin: 15px 0;
        }
        
        .option {
            background-color: var(--lavanda);
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: var(--option-font-size);
        }
        
        .option:hover {
            background-color: #B0A0CC;
            transform: translateY(-3px);
        }
        
        .option.selected {
            background-color: var(--amarelo);
        }
        
        .sentence-container {
            min-height: 50px;
            background: white;
            border-radius: 8px;
            padding: 12px;
            margin: 15px 0;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            align-items: center;
            justify-content: center;
        }
        
        .word-slot {
            background-color: var(--bege-claro);
            padding: 6px 12px;
            border-radius: 5px;
            min-width: 70px;
            min-height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .word-slot.empty {
            background-color: var(--bege-claro);
            border: 1px dashed #AAA;
        }
        
        .word-slot.filled {
            background-color: var(--lavanda);
        }
        
        .check-button {
            background-color: var(--verde);
            color: white;
            font-family: 'Franklin Gothic Demi', sans-serif;
            font-size: 1rem;
            padding: 10px 25px;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            display: block;
            margin: 15px auto;
            transition: transform 0.2s;
        }
        
        .check-button:hover {
            transform: scale(1.05);
        }
        
        .feedback {
            text-align: center;
            font-family: 'Cooper Black', serif;
            font-size: 1.3rem;
            margin: 8px 0;
            min-height: 35px;
        }
        
        .correct {
            color: var(--verde);
        }
        
        .incorrect {
            color: var(--vermelho);
        }
        
        .correct-answer {
            text-align: center;
            font-size: 1rem;
            margin: 8px 0;
            color: var(--azul-marinho);
        }
        
        .translation {
            text-align: center;
            font-size: 0.9rem;
            margin: 5px 0;
            color: var(--vinho);
            font-style: italic;
        }
        
        .progress-container {
            width: 90%;
            max-width: 600px;
            height: 8px;
            background-color: var(--bege-claro);
            border-radius: 4px;
            margin-top: 15px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background-color: var(--turquesa);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .question-counter {
            text-align: center;
            margin-top: 10px;
            font-weight: 500;
            color: var(--azul-marinho);
        }
        
        /* Página de resultados */
        #results-page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #F1E1AC;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 70;
            padding: 20px;
        }
        
        .results-container {
            background-color: var(--azul-marinho);
            border-radius: 20px;
            padding: 30px;
            width: 90%;
            max-width: 600px;
            text-align: center;
            color: white;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .results-title {
            background-color: var(--vermelho);
            border-radius: 50px;
            padding: 12px;
            font-family: 'Franklin Gothic Demi', sans-serif;
            font-size: 1.8rem;
            margin-bottom: 15px;
        }
        
        .results-text {
            font-family: 'Poppins', sans-serif;
            margin-bottom: 20px;
            line-height: 1.6;
            font-size: 0.95rem;
        }
        
        .results-mascot {
            width: 150px;
            margin: 0 auto;
        }
        
        .restart-button {
            background-color: var(--verde);
            color: white;
            font-family: 'Franklin Gothic Demi', sans-serif;
            font-size: 1rem;
            padding: 10px 25px;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            display: block;
            margin: 20px auto 0;
            transition: transform 0.2s;
        }
        
        .restart-button:hover {
            transform: scale(1.05);
        }
        
        /* Responsividade adicional para mobile */
        .mobile-device .slots-container {
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }
        
        .mobile-device .logo {
            width: 60px;
            top: 15px;
            left: 15px;
        }
        
        .mobile-device .game-container {
            padding: 15px;
        }
        
        .mobile-device .word-slot {
            min-width: 60px;
            font-size: 0.9rem;
        }
        
        .mobile-device .results-container {
            padding: 20px;
        }
        
        .mobile-device .results-title {
            font-size: 1.5rem;
        }
        
        .mobile-device .start-button {
            font-size: 1.2rem;
            padding: 12px 30px;
        }
        
        .mobile-device .mascot {
            width: 150px;
        }
        
        /* Responsividade adicional para tablet */
        .tablet-device .slots-container {
            flex-direction: row;
            align-items: center;
            gap: 15px;
        }
        
        .tablet-device .logo {
            width: 70px;
            top: 17px;
            left: 17px;
        }
        
        /* Animações */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .slide-in {
            animation: slideIn 0.4s ease-out;
        }
        
        /* Estilo para elementos desabilitados */
        .disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="${deviceType}">
    <!-- Página de Introdução -->
    <div id="intro-page">
        <video id="intro-video" autoplay muted>
            <source src="VIDEOINTRO.mp4" type="video/mp4">
            Seu navegador não suporta o elemento de vídeo.
        </video>
        <audio id="intro-audio" src="SOMINTRO.mp3" autoplay></audio>
    </div>

    <!-- Página Inicial do Quiz -->
    <div id="home-page">
        <img src="MASCOTENEUTRO.png" alt="Mascote" class="mascot">
        <button class="start-button" id="start-button">INICIAR EXERCÍCIO</button>
    </div>

    <!-- Página do Jogo -->
    <div id="game-page">
        <img src="LOGODAMIAO.png" alt="Logo" class="logo">
        <div class="game-container">
            <img src="MASCOTENINHO.png" alt="Mascote pequeno" class="mascot-small">
            <div class="enunciado">
                <p>Forme uma frase indefinida usando as seguintes imagens:</p>
            </div>
            
            <div class="slots-container">
                <div class="slot" id="clothes-slot">
                    <div class="slot-inner" id="clothes-slot-inner">
                        <!-- Itens serão preenchidos via JavaScript -->
                    </div>
                </div>
                <div class="slot" id="colors-slot">
                    <div class="slot-inner" id="colors-slot-inner">
                        <!-- Itens serão preenchidos via JavaScript -->
                    </div>
                </div>
            </div>
            
            <button class="spin-button" id="spin-button">Girar Roleta</button>
            
            <div class="options-container" id="options-container">
                <!-- Opções serão preenchidas via JavaScript -->
            </div>
            
            <div class="sentence-container" id="sentence-container">
                <div class="word-slot empty" id="article-slot" data-type="article"></div>
                <div class="word-slot empty" id="clothes-slot-word" data-type="clothes"></div>
                <div class="word-slot empty" id="colors-slot-word" data-type="color"></div>
            </div>
            
            <button class="check-button" id="check-button">Verificar</button>
            
            <div class="feedback" id="feedback"></div>
            <div class="correct-answer" id="correct-answer"></div>
            <div class="translation" id="translation"></div>
            
            <div class="question-counter" id="question-counter">Questão 1 de 20</div>
        </div>
        
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
    </div>

    <!-- Página de Resultados -->
    <div id="results-page">
        <div class="results-container">
            <div class="results-title" id="results-title"></div>
            <div class="results-text" id="results-text"></div>
            <img src="" alt="Mascote resultado" class="results-mascot" id="results-mascot">
            <button class="restart-button" id="restart-button">Jogar Novamente</button>
            <audio id="results-audio"></audio>
        </div>
    </div>

    <!-- Elementos de áudio -->
    <audio id="button-sound" src="BUTTON.mp3"></audio>
    <audio id="win-sound" src="WIN.wav"></audio>
    <audio id="error-sound" src="ERROR.wav"></audio>
    <audio id="positive-sound" src="POSITIVO.mp3"></audio>
    <audio id="negative-sound" src="NEGATIVO.mp3"></audio>

    <script>
        // Dados do jogo
        const clothes = [
            { name: "écharpe", article: "une", image: "L'écharpe.png", gender: "f", number: "s" },
            { name: "bangue", article: "une", image: "la bangue.png", gender: "f", number: "s" },
            { name: "botte", article: "une", image: "la botte.png", gender: "f", number: "s" },
            { name: "casquette", article: "une", image: "la casquette.png", gender: "f", number: "s" },
            { name: "ceinture", article: "une", image: "la ceinture.png", gender: "f", number: "s" },
            { name: "chaussure", article: "une", image: "la chaussure.png", gender: "f", number: "s" },
            { name: "cravate", article: "une", image: "la cravate.png", gender: "f", number: "s" },
            { name: "jupe", article: "une", image: "la jupe.png", gender: "f", number: "s" },
            { name: "montre", article: "une", image: "la montre.png", gender: "f", number: "s" },
            { name: "robe", article: "une", image: "la robe.png", gender: "f", number: "s" },
            { name: "sandale", article: "une", image: "la sandale.png", gender: "f", number: "s" },
            { name: "blouson", article: "un", image: "le blouson.png", gender: "m", number: "s" },
            { name: "bracelet", article: "un", image: "le bracelet.png", gender: "m", number: "s" },
            { name: "chapeau", article: "un", image: "le chapeau.png", gender: "m", number: "s" },
            { name: "collier", article: "un", image: "le collier.png", gender: "m", number: "s" },
            { name: "haut", article: "un", image: "le haut.png", gender: "m", number: "s" },
            { name: "manteau", article: "un", image: "le manteau.png", gender: "m", number: "s" },
            { name: "pantalon", article: "un", image: "le pantalon.png", gender: "m", number: "s" },
            { name: "parapluie", article: "un", image: "le parapluie.png", gender: "m", number: "s" },
            { name: "sac", article: "un", image: "le sac.png", gender: "m", number: "s" },
            { name: "short", article: "un", image: "le short.png", gender: "m", number: "s" },
            { name: "t-shirt", article: "un", image: "le t-shirt.png", gender: "m", number: "s" },
            { name: "tong", article: "un", image: "le tong.png", gender: "m", number: "s" },
            { name: "boucles d'oreille", article: "des", image: "les boucles d'oreille.png", gender: "f", number: "p" },
            { name: "chaussettes", article: "des", image: "les chaussettes.png", gender: "f", number: "p" },
            { name: "gants", article: "des", image: "les gants.png", gender: "m", number: "p" },
            { name: "lunettes", article: "des", image: "les lunettes.png", gender: "f", number: "p" }
        ];

        const colors = [
            { name: "beige", variations: ["beige", "beiges"] },
            { name: "blanc", variations: ["blanc", "blanche", "blancs", "blanches"] },
            { name: "bleu clair", variations: ["bleu clair", "bleue claire", "bleus clairs", "bleues claires"] },
            { name: "bleu marine", variations: ["bleu marine", "bleue marine", "bleus marines", "bleues marines"] },
            { name: "bleu", variations: ["bleu", "bleue", "bleus", "bleues"] },
            { name: "gris", variations: ["gris", "grise", "gris", "grises"] },
            { name: "jaune", variations: ["jaune", "jaune", "jaunes", "jaunes"] },
            { name: "marron", variations: ["marron", "marrons"] },
            { name: "noir", variations: ["noir", "noire", "noirs", "noires"] },
            { name: "orange", variations: ["orange", "oranges"] },
            { name: "rose", variations: ["rose", "rose", "roses", "roses"] },
            { name: "rouge", variations: ["rouge", "rouge", "rouges", "rouges"] },
            { name: "vert", variations: ["vert", "verte", "verts", "vertes"] },
            { name: "violet", variations: ["violet", "violette", "violets", "violettes"] }
        ];

        // Traduções para português
        const translations = {
            "écharpe": "cachecol",
            "bangue": "pulseira",
            "botte": "bota",
            "casquette": "boné",
            "ceinture": "cinto",
            "chaussure": "sapato",
            "cravate": "gravata",
            "jupe": "saia",
            "montre": "relógio",
            "robe": "vestido",
            "sandale": "sandália",
            "blouson": "jaqueta",
            "bracelet": "pulseira",
            "chapeau": "chapéu",
            "collier": "colar",
            "haut": "blusa",
            "manteau": "casaco",
            "pantalon": "calça",
            "parapluie": "guarda-chuva",
            "sac": "bolsa",
            "short": "short",
            "t-shirt": "camiseta",
            "tong": "chinelo",
            "boucles d'oreille": "brincos",
            "chaussettes": "meias",
            "gants": "luvas",
            "lunettes": "óculos",
            "beige": "bege",
            "blanc": "branco",
            "bleu clair": "azul claro",
            "bleu marine": "azul marinho",
            "bleu": "azul",
            "gris": "cinza",
            "jaune": "amarelo",
            "marron": "marrom",
            "noir": "preto",
            "orange": "laranja",
            "rose": "rosa",
            "rouge": "vermelho",
            "vert": "verde",
            "violet": "violeta",
            "une": "uma",
            "un": "um",
            "des": "uns/umas"
        };

        // Variáveis do jogo
        let currentClothesIndex = 0;
        let currentColorsIndex = 0;
        let selectedArticle = "";
        let selectedClothes = "";
        let selectedColor = "";
        let currentQuestion = 0;
        let totalQuestions = 20;
        let correctAnswers = 0;
        let isSpinning = false;
        let usedClothesIndices = [];
        let isCheckingPhase = false;
        let selectedOptions = {
            article: null,
            clothes: null,
            color: null
        };

        // Elementos DOM
        const introPage = document.getElementById('intro-page');
        const introVideo = document.getElementById('intro-video');
        const homePage = document.getElementById('home-page');
        const gamePage = document.getElementById('game-page');
        const resultsPage = document.getElementById('results-page');
        const startButton = document.getElementById('start-button');
        const spinButton = document.getElementById('spin-button');
        const checkButton = document.getElementById('check-button');
        const restartButton = document.getElementById('restart-button');
        const clothesSlotInner = document.getElementById('clothes-slot-inner');
        const colorsSlotInner = document.getElementById('colors-slot-inner');
        const optionsContainer = document.getElementById('options-container');
        const articleSlot = document.getElementById('article-slot');
        const clothesSlotWord = document.getElementById('clothes-slot-word');
        const colorsSlotWord = document.getElementById('colors-slot-word');
        const feedback = document.getElementById('feedback');
        const correctAnswer = document.getElementById('correct-answer');
        const translation = document.getElementById('translation');
        const progressBar = document.getElementById('progress-bar');
        const questionCounter = document.getElementById('question-counter');
        const resultsTitle = document.getElementById('results-title');
        const resultsText = document.getElementById('results-text');
        const resultsMascot = document.getElementById('results-mascot');
        const resultsAudio = document.getElementById('results-audio');
        const buttonSound = document.getElementById('button-sound');
        const winSound = document.getElementById('win-sound');
        const errorSound = document.getElementById('error-sound');
        const positiveSound = document.getElementById('positive-sound');
        const negativeSound = document.getElementById('negative-sound');

        // Inicialização
        document.addEventListener('DOMContentLoaded', function() {
            // Ajustar variáveis CSS baseadas no tipo de dispositivo
            adjustForDevice();
            
            // Preencher os slots com imagens
            fillSlots();
            
            // Configurar evento para o vídeo de introdução
            introVideo.addEventListener('ended', function() {
                introPage.style.opacity = '0';
                setTimeout(function() {
                    introPage.style.display = 'none';
                    homePage.style.display = 'flex';
                }, 1000);
            });
            
            // Configurar botões
            startButton.addEventListener('click', function() {
                playSound(buttonSound);
                homePage.style.display = 'none';
                gamePage.style.display = 'flex';
                resetGame();
                generateQuestion();
            });
            
            spinButton.addEventListener('click', function() {
                if (!isSpinning && !isCheckingPhase) {
                    playSound(buttonSound);
                    spinSlots();
                }
            });
            
            checkButton.addEventListener('click', function() {
                if (isCheckingPhase) {
                    // Se estiver na fase de verificação, transformar em "Girar Roleta Novamente"
                    playSound(buttonSound);
                    resetSelection();
                    spinButton.disabled = false;
                    checkButton.textContent = "Verificar";
                    isCheckingPhase = false;
                    
                    // Avançar para a próxima questão
                    currentQuestion++;
                    updateQuestionCounter();
                    updateProgressBar();
                    
                    if (currentQuestion < totalQuestions) {
                        spinSlots(); // Girar a roleta para a próxima questão
                    } else {
                        showResults();
                    }
                } else {
                    // Se estiver na fase normal, verificar a resposta
                    playSound(buttonSound);
                    checkAnswer();
                }
            });
            
            restartButton.addEventListener('click', function() {
                playSound(buttonSound);
                resultsPage.style.display = 'none';
                resetGame();
                gamePage.style.display = 'flex';
                generateQuestion();
            });
            
            // Configurar cliques nos slots de palavras para remover seleção
            articleSlot.addEventListener('click', function() {
                if (articleSlot.textContent && !isCheckingPhase) {
                    returnOptionToSelection(articleSlot.textContent, 'article');
                    articleSlot.textContent = "";
                    articleSlot.classList.add('empty');
                    articleSlot.classList.remove('filled');
                    selectedArticle = "";
                    selectedOptions.article = null;
                }
            });
            
            clothesSlotWord.addEventListener('click', function() {
                if (clothesSlotWord.textContent && !isCheckingPhase) {
                    returnOptionToSelection(clothesSlotWord.textContent, 'clothes');
                    clothesSlotWord.textContent = "";
                    clothesSlotWord.classList.add('empty');
                    clothesSlotWord.classList.remove('filled');
                    selectedClothes = "";
                    selectedOptions.clothes = null;
                }
            });
            
            colorsSlotWord.addEventListener('click', function() {
                if (colorsSlotWord.textContent && !isCheckingPhase) {
                    returnOptionToSelection(colorsSlotWord.textContent, 'color');
                    colorsSlotWord.textContent = "";
                    colorsSlotWord.classList.add('empty');
                    colorsSlotWord.classList.remove('filled');
                    selectedColor = "";
                    selectedOptions.color = null;
                }
            });
        });

        // Função para ajustar o layout baseado no dispositivo
        function adjustForDevice() {
            const deviceType = document.body.className;
            
            if (deviceType === 'mobile') {
                // Ajustes específicos para mobile
                document.querySelector('.slots-container').style.flexDirection = 'column';
                document.querySelector('.logo').style.width = '60px';
                document.querySelector('.game-container').style.padding = '15px';
            } else if (deviceType === 'tablet') {
                // Ajustes específicos para tablet
                document.querySelector('.logo').style.width = '70px';
            }
            // Para desktop, manter o layout original
        }

        // Funções do jogo
        function fillSlots() {
            // Preencher slot de roupas
            clothes.forEach((item, index) => {
                const slotItem = document.createElement('div');
                slotItem.className = 'slot-item';
                slotItem.dataset.index = index;
                
                const img = document.createElement('img');
                img.src = item.image;
                img.alt = item.name;
                
                slotItem.appendChild(img);
                clothesSlotInner.appendChild(slotItem);
            });
            
            // Preencher slot de cores
            colors.forEach((color, index) => {
                const slotItem = document.createElement('div');
                slotItem.className = 'slot-item';
                slotItem.dataset.index = index;
                slotItem.textContent = color.name;
                colorsSlotInner.appendChild(slotItem);
            });
        }

        function spinSlots() {
            if (isSpinning) return;
            
            isSpinning = true;
            spinButton.disabled = true;
            
            // Limpar feedback anterior
            feedback.textContent = "";
            feedback.className = "feedback";
            correctAnswer.textContent = "";
            translation.textContent = "";
            
            // Gerar índices aleatórios para roupas e cores
            let randomClothesIndex;
            do {
                randomClothesIndex = Math.floor(Math.random() * clothes.length);
            } while (usedClothesIndices.includes(randomClothesIndex));
            
            usedClothesIndices.push(randomClothesIndex);
            currentClothesIndex = randomClothesIndex;
            
            currentColorsIndex = Math.floor(Math.random() * colors.length);
            
            // Calcular posições finais
            const clothesFinalPosition = -(currentClothesIndex * parseInt(getComputedStyle(document.documentElement).getPropertyValue('--slot-height').replace('px', '')));
            const colorsFinalPosition = -(currentColorsIndex * parseInt(getComputedStyle(document.documentElement).getPropertyValue('--slot-height').replace('px', '')));
            
            // Aplicar animação
            clothesSlotInner.style.transition = 'top 3s cubic-bezier(0.17, 0.67, 0.83, 0.67)';
            colorsSlotInner.style.transition = 'top 3s cubic-bezier(0.17, 0.67, 0.83, 0.67)';
            
            clothesSlotInner.style.top = clothesFinalPosition + 'px';
            colorsSlotInner.style.top = colorsFinalPosition + 'px';
            
            // Gerar opções após a roleta parar
            setTimeout(function() {
                isSpinning = false;
                spinButton.disabled = false;
                generateOptions();
            }, 3000);
        }

        function generateOptions() {
            // Limpar opções anteriores
            optionsContainer.innerHTML = "";
            
            const currentClothes = clothes[currentClothesIndex];
            const currentColor = colors[currentColorsIndex];
            
            // Gerar opções para artigos
            const articleOptions = [currentClothes.article];
            
            // Adicionar opções incorretas
            if (currentClothes.gender === 'f') {
                articleOptions.push('un');
            } else {
                articleOptions.push('une');
            }
            
            if (currentClothes.number === 's') {
                articleOptions.push('des');
            } else {
                articleOptions.push(currentClothes.gender === 'f' ? 'une' : 'un');
            }
            
            // Embaralhar opções
            shuffleArray(articleOptions);
            
            // Adicionar opções de artigos ao container
            articleOptions.forEach(option => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                optionElement.dataset.type = 'article';
                optionElement.addEventListener('click', function() {
                    selectOption(this, 'article');
                });
                optionsContainer.appendChild(optionElement);
            });
            
            // Gerar opções para roupas
            const clothesOptions = [currentClothes.name];
            
            // Adicionar opções incorretas
            let otherClothes;
            do {
                otherClothes = clothes[Math.floor(Math.random() * clothes.length)];
            } while (otherClothes.name === currentClothes.name);
            
            clothesOptions.push(otherClothes.name);
            
            // Adicionar mais uma opção incorreta
            do {
                otherClothes = clothes[Math.floor(Math.random() * clothes.length)];
            } while (otherClothes.name === currentClothes.name || clothesOptions.includes(otherClothes.name));
            
            clothesOptions.push(otherClothes.name);
            
            // Embaralhar opções
            shuffleArray(clothesOptions);
            
            // Adicionar opções de roupas ao container
            clothesOptions.forEach(option => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                optionElement.dataset.type = 'clothes';
                optionElement.addEventListener('click', function() {
                    selectOption(this, 'clothes');
                });
                optionsContainer.appendChild(optionElement);
            });
            
            // Gerar opções para cores
            const colorOptions = [currentColor.name];
            
            // Adicionar opções incorretas
            let otherColor;
            do {
                otherColor = colors[Math.floor(Math.random() * colors.length)];
            } while (otherColor.name === currentColor.name);
            
            colorOptions.push(otherColor.name);
            
            // Adicionar mais uma opção incorreta
            do {
                otherColor = colors[Math.floor(Math.random() * colors.length)];
            } while (otherColor.name === currentColor.name || colorOptions.includes(otherColor.name));
            
            colorOptions.push(otherColor.name);
            
            // Embaralhar opções
            shuffleArray(colorOptions);
            
            // Adicionar opções de cores ao container
            colorOptions.forEach(option => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                optionElement.dataset.type = 'color';
                optionElement.addEventListener('click', function() {
                    selectOption(this, 'color');
                });
                optionsContainer.appendChild(optionElement);
            });
        }

        function selectOption(optionElement, type) {
            if (isCheckingPhase) return;
            
            playSound(buttonSound);
            
            // Desselecionar opção anterior do mesmo tipo, se houver
            if (selectedOptions[type]) {
                selectedOptions[type].classList.remove('selected');
            }
            
            // Selecionar nova opção
            optionElement.classList.add('selected');
            selectedOptions[type] = optionElement;
            
            // Atualizar slot correspondente
            const slot = document.getElementById(`${type}-slot-word`);
            slot.textContent = optionElement.textContent;
            slot.classList.remove('empty');
            slot.classList.add('filled');
            
            // Atualizar variáveis selecionadas
            if (type === 'article') {
                selectedArticle = optionElement.textContent;
            } else if (type === 'clothes') {
                selectedClothes = optionElement.textContent;
            } else if (type === 'color') {
                selectedColor = optionElement.textContent;
            }
            
            // Verificar se todos os slots estão preenchidos
            if (selectedArticle && selectedClothes && selectedColor) {
                checkButton.disabled = false;
            }
        }

        function returnOptionToSelection(optionText, type) {
            const options = optionsContainer.querySelectorAll(`.option[data-type="${type}"]`);
            for (let option of options) {
                if (option.textContent === optionText && option.classList.contains('selected')) {
                    option.classList.remove('selected');
                    break;
                }
            }
        }

        function checkAnswer() {
            if (!selectedArticle || !selectedClothes || !selectedColor) {
                feedback.textContent = "Por favor, preencha todos os campos!";
                feedback.className = "feedback incorrect";
                playSound(errorSound);
                return;
            }
            
            const currentClothes = clothes[currentClothesIndex];
            const currentColor = colors[currentColorsIndex];
            
            // Verificar se o artigo está correto
            const isArticleCorrect = selectedArticle === currentClothes.article;
            
            // Verificar se a roupa está correta
            const isClothesCorrect = selectedClothes === currentClothes.name;
            
            // Verificar se a cor está correta
            const isColorCorrect = selectedColor === currentColor.name;
            
            // Verificar se toda a frase está correta
            const isCompletelyCorrect = isArticleCorrect && isClothesCorrect && isColorCorrect;
            
            // Atualizar contador de respostas corretas
            if (isCompletelyCorrect) {
                correctAnswers++;
                playSound(positiveSound);
            } else {
                playSound(negativeSound);
            }
            
            // Exibir feedback
            if (isCompletelyCorrect) {
                feedback.textContent = "Parfait! Correct!";
                feedback.className = "feedback correct";
            } else {
                feedback.textContent = "Ce n'est pas correct!";
                feedback.className = "feedback incorrect";
                
                // Mostrar resposta correta
                const correctArticle = currentClothes.article;
                const correctClothes = currentClothes.name;
                const correctColor = currentColor.name;
                
                correctAnswer.textContent = `La bonne réponse est: ${correctArticle} ${correctClothes} ${correctColor}`;
                
                // Mostrar tradução
                const translatedArticle = translations[correctArticle] || correctArticle;
                const translatedClothes = translations[correctClothes] || correctClothes;
                const translatedColor = translations[correctColor] || correctColor;
                
                translation.textContent = `Traduction: ${translatedArticle} ${translatedClothes} ${translatedColor}`;
            }
            
            // Mudar para a fase de verificação
            isCheckingPhase = true;
            spinButton.disabled = true;
            checkButton.textContent = "Question Suivante";
        }

        function resetSelection() {
            // Limpar slots de palavras
            articleSlot.textContent = "";
            articleSlot.classList.add('empty');
            articleSlot.classList.remove('filled');
            
            clothesSlotWord.textContent = "";
            clothesSlotWord.classList.add('empty');
            clothesSlotWord.classList.remove('filled');
            
            colorsSlotWord.textContent = "";
            colorsSlotWord.classList.add('empty');
            colorsSlotWord.classList.remove('filled');
            
            // Desselecionar opções
            const selectedOptions = optionsContainer.querySelectorAll('.option.selected');
            selectedOptions.forEach(option => {
                option.classList.remove('selected');
            });
            
            // Limpar variáveis selecionadas
            selectedArticle = "";
            selectedClothes = "";
            selectedColor = "";
            selectedOptions.article = null;
            selectedOptions.clothes = null;
            selectedOptions.color = null;
            
            // Limpar feedback
            feedback.textContent = "";
            feedback.className = "feedback";
            correctAnswer.textContent = "";
            translation.textContent = "";
        }

        function generateQuestion() {
            resetSelection();
            updateQuestionCounter();
            updateProgressBar();
            spinSlots();
        }

        function updateQuestionCounter() {
            questionCounter.textContent = `Question ${currentQuestion + 1} de ${totalQuestions}`;
        }

        function updateProgressBar() {
            const progress = ((currentQuestion + 1) / totalQuestions) * 100;
            progressBar.style.width = progress + '%';
        }

        function showResults() {
            gamePage.style.display = 'none';
            resultsPage.style.display = 'flex';
            
            // Calcular pontuação
            const score = (correctAnswers / totalQuestions) * 100;
            
            // Configurar resultados com base na pontuação
            if (score >= 80) {
                resultsTitle.textContent = "Félicitations!";
                resultsText.textContent = `Vous avez obtenu ${correctAnswers} bonnes réponses sur ${totalQuestions}. Excellent travail! Continuez comme ça!`;
                resultsMascot.src = "MASCOTEFELIZ.png";
                resultsAudio.src = "VITORIA.mp3";
            } else if (score >= 50) {
                resultsTitle.textContent = "Pas mal!";
                resultsText.textContent = `Vous avez obtenu ${correctAnswers} bonnes réponses sur ${totalQuestions}. Vous pouvez faire mieux! Continuez à pratiquer!`;
                resultsMascot.src = "MASCOTENEUTRO.png";
                resultsAudio.src = "MEDIO.mp3";
            } else {
                resultsTitle.textContent = "Essayez encore!";
                resultsText.textContent = `Vous avez obtenu ${correctAnswers} bonnes réponses sur ${totalQuestions}. Ne vous découragez pas! Pratiquez un peu plus et vous vous améliorerez!`;
                resultsMascot.src = "MASCOTETRISTE.png";
                resultsAudio.src = "DERROTA.mp3";
            }
            
            playSound(resultsAudio);
        }

        function resetGame() {
            currentQuestion = 0;
            correctAnswers = 0;
            usedClothesIndices = [];
            isCheckingPhase = false;
            resetSelection();
            updateQuestionCounter();
            updateProgressBar();
        }

        function playSound(soundElement) {
            soundElement.currentTime = 0;
            soundElement.play().catch(e => {
                console.log("Impossible de jouer le son:", e);
            });
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
    </script>
</body>
</html>
